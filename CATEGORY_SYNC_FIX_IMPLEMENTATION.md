# –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ì–∞—Ä–∞–Ω—Ç–∏—è –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–∞ product.bot_id === category.bot_id

**–î–∞—Ç–∞:** 2024-12-20  
**–°—Ç–∞—Ç—É—Å:** –í –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

---

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

### 1. –°–æ–∑–¥–∞–Ω–∞ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `normalize_category_id`

**–§–∞–π–ª:** `backend/app/utils/products_utils.py`

–§—É–Ω–∫—Ü–∏—è –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç `category_id` –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–∞ `product.bot_id === category.bot_id`.

**–õ–æ–≥–∏–∫–∞:**
- –ï—Å–ª–∏ `category_id` –Ω–µ —É–∫–∞–∑–∞–Ω ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `None`
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Ü–µ–ª–µ–≤–æ–º—É –±–æ—Ç—É
- –ï—Å–ª–∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `category_id`
- –ï—Å–ª–∏ –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç ‚Üí –∏—â–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Å —Ç–µ–º –∂–µ –∏–º–µ–Ω–µ–º –≤ —Ü–µ–ª–µ–≤–æ–º –±–æ—Ç–µ
- –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–∞ ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ—ë `id`
- –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `None`

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤ `products_create.py`

**–§–∞–π–ª:** `backend/app/handlers/products_create.py`

–ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ç–æ–≤–∞—Ä–∞ `category_id` –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `normalize_category_id`.

---

## ‚è≥ –í –ü–†–û–¶–ï–°–°–ï

### 3. –ó–∞–º–µ–Ω–∞ –ª–æ–≥–∏–∫–∏ –≤ `products_sync.py`

**–§–∞–π–ª:** `backend/app/utils/products_sync.py`

–ù—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –º–µ—Å—Ç–∞, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä—É—á–Ω–æ–π –ø–æ–∏—Å–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π, –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `normalize_category_id`.

**–û—Å—Ç–∞–ª–æ—Å—å –∑–∞–º–µ–Ω–∏—Ç—å:** ~7 –º–µ—Å—Ç

---

## üìã –ü–õ–ê–ù –ó–ê–í–ï–†–®–ï–ù–ò–Ø

1. –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –≤—Ö–æ–∂–¥–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –≤ `products_sync.py` –Ω–∞ `normalize_category_id`
2. –î–æ–±–∞–≤–∏—Ç—å –∑–∞—â–∏—Ç–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

## üéØ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π:
- ‚úÖ –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç `product.bot_id === category.bot_id` –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ —É—Ä–æ–≤–Ω–µ backend
- ‚úÖ –ù–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã –≤—Å–µ–≥–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º `category_id`
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –º–µ–∂–¥—É –±–æ—Ç–∞–º–∏ –±–æ–ª—å—à–µ –Ω–µ –Ω–∞—Ä—É—à–∞–µ—Ç –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç
- ‚úÖ Frontend –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
