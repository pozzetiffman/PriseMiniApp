# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø—Ä–æ–≤–µ—Ä–∫–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –º–æ–¥—É–ª—è config.js

## –ß—Ç–æ –±—ã–ª–æ –≤—ã–≥—Ä—É–∂–µ–Ω–æ:
- ‚úÖ `API_BASE` ‚Äî –±–∞–∑–æ–≤—ã–π URL API
- ‚úÖ `getBaseHeadersNoAuth()` ‚Äî –∑–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ `getBaseHeaders()` ‚Äî –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
- ‚úÖ `fetchOptions` ‚Äî –æ–ø—Ü–∏–∏ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

---

## –°–ø–æ—Å–æ–± 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Telegram Mini App
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞
2. –ù–∞–∂–º–∏—Ç–µ F12 (–∏–ª–∏ Cmd+Option+I –Ω–∞ Mac) –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –∫–æ–Ω—Å–æ–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Console"

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª–µ–π
–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏:
```
‚úÖ [REFACTORING] API_BASE loaded from api/config.js: https://unmaneuvered-chronogrammatically-otelia.ngrok-free.dev
‚úÖ [REFACTORING] getBaseHeadersNoAuth() loaded from api/config.js
‚úÖ [REFACTORING] getBaseHeaders() loaded from api/config.js
‚úÖ [REFACTORING] fetchOptions loaded from api/config.js
```

**–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —ç—Ç–∏ –ª–æ–≥–∏** ‚Üí –º–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ ‚úÖ

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É —Ñ—É–Ω–∫—Ü–∏–π –≤ –∫–æ–Ω—Å–æ–ª–∏
–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:

```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ API_BASE
import { API_BASE } from './api/config.js';
console.log('API_BASE:', API_BASE);
// –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏: https://unmaneuvered-chronogrammatically-otelia.ngrok-free.dev

// –ü—Ä–æ–≤–µ—Ä–∫–∞ getBaseHeadersNoAuth()
import { getBaseHeadersNoAuth } from './api/config.js';
const headersNoAuth = getBaseHeadersNoAuth();
console.log('getBaseHeadersNoAuth():', headersNoAuth);
// –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ –æ–±—ä–µ–∫—Ç —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏

// –ü—Ä–æ–≤–µ—Ä–∫–∞ getBaseHeaders()
import { getBaseHeaders } from './api/config.js';
const headers = getBaseHeaders();
console.log('getBaseHeaders():', headers);
// –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ –æ–±—ä–µ–∫—Ç —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏, –≤–∫–ª—é—á–∞—è X-Telegram-Init-Data

// –ü—Ä–æ–≤–µ—Ä–∫–∞ fetchOptions
import { fetchOptions } from './api/config.js';
console.log('fetchOptions:', fetchOptions);
// –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ –æ–±—ä–µ–∫—Ç —Å –æ–ø—Ü–∏—è–º–∏
```

---

## –°–ø–æ—Å–æ–± 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ API_BASE:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram
2. –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –Ω–∞–π–¥–∏—Ç–µ –ª–æ–≥–∏:
   ```
   üì¶ API_BASE: https://unmaneuvered-chronogrammatically-otelia.ngrok-free.dev
   ```
   –≠—Ç–æ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –≤ `data.js` –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–æ–≤–µ—Ä–∫–∞ getBaseHeadersNoAuth():
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram
2. –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Ç–æ–≤–∞—Ä—ã –¥–æ–ª–∂–Ω—ã –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `fetchCategories()` –∏ `fetchProducts()`)
3. –í Network –≤–∫–ª–∞–¥–∫–µ (F12 ‚Üí Network) –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ `/api/categories/` –∏ `/api/products/`
4. –í Headers –∑–∞–ø—Ä–æ—Å–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:
   ```
   ngrok-skip-browser-warning: 69420
   Content-Type: application/json
   ```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ getBaseHeaders():
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –ª—é–±–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ, —Ç—Ä–µ–±—É—é—â–µ–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:
   - –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—é —Ç–æ–≤–∞—Ä–∞
   - –°–æ–∑–¥–∞–π—Ç–µ –∑–∞–∫–∞–∑
   - –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ—Ä–∑–∏–Ω—É
3. –í Network –≤–∫–ª–∞–¥–∫–µ (F12 ‚Üí Network) –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–ø—Ä–æ—Å—ã
4. –í Headers –∑–∞–ø—Ä–æ—Å–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:
   ```
   ngrok-skip-browser-warning: 69420
   Content-Type: application/json
   X-Telegram-Init-Data: [–≤–∞—à initData]
   ```

---

## –°–ø–æ—Å–æ–± 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –∏–º–ø–æ—Ä—Ç—ã (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:

```bash
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –ø—Ä–æ–µ–∫—Ç–∞
cd webapp/js

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —Ñ–∞–π–ª–æ–≤
node -c api/config.js
node -c api.js
```

–ï—Å–ª–∏ –Ω–µ—Ç –æ—à–∏–±–æ–∫ ‚Üí —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω ‚úÖ

---

## –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

### ‚úÖ –£—Å–ø–µ—à–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:
- [ ] –í –∫–æ–Ω—Å–æ–ª–∏ –≤–∏–¥–Ω—ã –ª–æ–≥–∏ `‚úÖ [REFACTORING] ... loaded from api/config.js`
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Ç–æ–≤–∞—Ä—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- [ ] –ó–∞–ø—Ä–æ—Å—ã —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π —Ä–∞–±–æ—Ç–∞—é—Ç (—Ä–µ–∑–µ—Ä–≤–∞—Ü–∏–∏, –∑–∞–∫–∞–∑—ã)
- [ ] –í Network –≤–∏–¥–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ —Ç–∏–ø–∞ "Cannot read property" –∏–ª–∏ "is not defined"

### ‚ùå –ü—Ä–∏–∑–Ω–∞–∫–∏ –ø—Ä–æ–±–ª–µ–º:
- [ ] –û—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ —Ç–∏–ø–∞ "Cannot find module './api/config.js'"
- [ ] –û—à–∏–±–∫–∏ —Ç–∏–ø–∞ "API_BASE is not defined"
- [ ] –ó–∞–ø—Ä–æ—Å—ã –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 401/403
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

---

## –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (1 –º–∏–Ω—É—Ç–∞):

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram Mini App
2. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –ª–æ–≥–æ–≤:
   ```
   ‚úÖ [REFACTORING] API_BASE loaded from api/config.js
   ‚úÖ [REFACTORING] getBaseHeadersNoAuth() loaded from api/config.js
   ‚úÖ [REFACTORING] getBaseHeaders() loaded from api/config.js
   ‚úÖ [REFACTORING] fetchOptions loaded from api/config.js
   ```
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–≤–∞—Ä—ã, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
5. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—é –∏–ª–∏ –∑–∞–∫–∞–∑

**–ï—Å–ª–∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç** ‚Üí —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —É—Å–ø–µ—à–µ–Ω! ‚úÖ

---

## –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ (—á–µ—Ä–µ–∑ 1-2 –¥–Ω—è):

–ï—Å–ª–∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –º–æ–∂–Ω–æ:
1. –£–¥–∞–ª–∏—Ç—å –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –∏–∑ `api.js`
2. –£–¥–∞–ª–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑ `config.js` (—Å—Ç—Ä–æ–∫–∏ —Å `console.log`)
3. –ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –º–æ–¥—É–ª—é —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

---

## –û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π (–µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç):

–ï—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã:
1. –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å—Ç–∞—Ä—ã–π –∫–æ–¥ –≤ `api.js`
2. –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏–º–ø–æ—Ä—Ç—ã –∏–∑ `api/config.js`
3. –£–¥–∞–ª–∏—Ç–µ —Ä–µ—ç–∫—Å–ø–æ—Ä—Ç—ã
4. –°–æ–æ–±—â–∏—Ç–µ –æ –ø—Ä–æ–±–ª–µ–º–µ

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞:

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é:

```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –∏–∑ api.js (—á–µ—Ä–µ–∑ —Ä–µ—ç–∫—Å–ø–æ—Ä—Ç)
import { API_BASE, getBaseHeaders, getBaseHeadersNoAuth, fetchOptions } from './api.js';

console.log('API_BASE from api.js:', API_BASE);
console.log('getBaseHeaders from api.js:', typeof getBaseHeaders);
console.log('getBaseHeadersNoAuth from api.js:', typeof getBaseHeadersNoAuth);
console.log('fetchOptions from api.js:', fetchOptions);
```

–í—Å–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

